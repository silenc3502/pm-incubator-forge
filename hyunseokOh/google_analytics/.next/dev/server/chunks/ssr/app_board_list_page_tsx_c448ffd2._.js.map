{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/reallies/Documents/GitHub/pm-incubator-forge/hyunseokOh/google_analytics/app/board/list/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\n\ninterface Board {\n    id: number;\n    title: string;\n    content: string;\n    author_nickname: string;\n    created_at: string; // ISO 문자열\n}\n\nexport default function BoardList() {\n    const [boards, setBoards] = useState<Board[]>([]);\n    const [page, setPage] = useState(1);\n    const [size] = useState(10);\n    const [total, setTotal] = useState(0);\n    const [loading, setLoading] = useState(false);\n\n    const loadBoards = async (page: number) => {\n        setLoading(true);\n        try {\n            const res = await fetch(\n                `${process.env.NEXT_PUBLIC_API_BASE_URL}/board/list?page=${page}&size=${size}`,\n                { credentials: \"include\" }\n            );\n            if (!res.ok) {\n                console.error(\"Failed to fetch boards\", res.status);\n                setBoards([]);\n                setTotal(0);\n                return;\n            }\n            const data = await res.json();\n            console.log(\"Fetched board list:\", data); // 디버깅용\n            setBoards(data.boards);\n            setTotal(data.total);\n        } catch (err) {\n            console.error(\"Error loading boards:\", err);\n            setBoards([]);\n            setTotal(0);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        loadBoards(page);\n    }, [page]);\n\n    const totalPages = Math.ceil(total / size);\n\n    return (\n        <div className=\"p-6 min-h-screen bg-white text-black\">\n            <h1 className=\"text-2xl font-bold mb-4\">게시판 목록</h1>\n\n            <Link\n                href=\"/board/create\"\n                className=\"bg-blue-600 px-4 py-2 rounded text-white hover:bg-blue-700\"\n            >\n                글쓰기\n            </Link>\n\n            {loading ? (\n                <p className=\"mt-4\">로딩 중...</p>\n            ) : boards.length === 0 ? (\n                <p className=\"mt-4\">게시글이 없습니다.</p>\n            ) : (\n                <table className=\"w-full mt-4 border border-gray-300 text-left\">\n                    <thead className=\"bg-gray-100\">\n                    <tr>\n                        <th className=\"p-2 border-b\">번호</th>\n                        <th className=\"p-2 border-b\">제목</th>\n                        <th className=\"p-2 border-b\">작성자</th>\n                        <th className=\"p-2 border-b\">작성일</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {boards.map((b, idx) => (\n                        <tr key={b.id} className=\"hover:bg-gray-50\">\n                            <td className=\"p-2 border-b\">{b.id}</td>\n                            <td className=\"p-2 border-b\">\n                                <Link\n                                    href={`/board/${b.id}`}\n                                    className=\"text-blue-500 hover:underline\"\n                                >\n                                    {b.title}\n                                </Link>\n                            </td>\n                            <td className=\"p-2 border-b\">{b.author_nickname}</td>\n                            <td className=\"p-2 border-b\">\n                                {new Date(b.created_at).toLocaleString()}\n                            </td>\n                        </tr>\n                    ))}\n                    </tbody>\n                </table>\n            )}\n\n            {/* 페이지네이션 */}\n            <div className=\"mt-4 flex justify-center items-center space-x-4\">\n                <button\n                    disabled={page <= 1}\n                    onClick={() => setPage(page - 1)}\n                    className=\"px-3 py-1 bg-gray-200 rounded disabled:opacity-50\"\n                >\n                    Prev\n                </button>\n                <span>\n                    {page} / {totalPages}\n                </span>\n                <button\n                    disabled={page >= totalPages}\n                    onClick={() => setPage(page + 1)}\n                    className=\"px-3 py-1 bg-gray-200 rounded disabled:opacity-50\"\n                >\n                    Next\n                </button>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAae,SAAS;IACpB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAU,EAAE;IAChD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,KAAK,GAAG,IAAA,iNAAQ,EAAC;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,aAAa,OAAO;QACtB,WAAW;QACX,IAAI;YACA,MAAM,MAAM,MAAM,MACd,wCAAwC,iBAAiB,EAAE,KAAK,MAAM,EAAE,MAAM,EAC9E;gBAAE,aAAa;YAAU;YAE7B,IAAI,CAAC,IAAI,EAAE,EAAE;gBACT,QAAQ,KAAK,CAAC,0BAA0B,IAAI,MAAM;gBAClD,UAAU,EAAE;gBACZ,SAAS;gBACT;YACJ;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,QAAQ,GAAG,CAAC,uBAAuB,OAAO,OAAO;YACjD,UAAU,KAAK,MAAM;YACrB,SAAS,KAAK,KAAK;QACvB,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,yBAAyB;YACvC,UAAU,EAAE;YACZ,SAAS;QACb,SAAU;YACN,WAAW;QACf;IACJ;IAEA,IAAA,kNAAS,EAAC;QACN,WAAW;IACf,GAAG;QAAC;KAAK;IAET,MAAM,aAAa,KAAK,IAAI,CAAC,QAAQ;IAErC,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,8OAAC,uKAAI;gBACD,MAAK;gBACL,WAAU;0BACb;;;;;;YAIA,wBACG,8OAAC;gBAAE,WAAU;0BAAO;;;;;uBACpB,OAAO,MAAM,KAAK,kBAClB,8OAAC;gBAAE,WAAU;0BAAO;;;;;qCAEpB,8OAAC;gBAAM,WAAU;;kCACb,8OAAC;wBAAM,WAAU;kCACjB,cAAA,8OAAC;;8CACG,8OAAC;oCAAG,WAAU;8CAAe;;;;;;8CAC7B,8OAAC;oCAAG,WAAU;8CAAe;;;;;;8CAC7B,8OAAC;oCAAG,WAAU;8CAAe;;;;;;8CAC7B,8OAAC;oCAAG,WAAU;8CAAe;;;;;;;;;;;;;;;;;kCAGjC,8OAAC;kCACA,OAAO,GAAG,CAAC,CAAC,GAAG,oBACZ,8OAAC;gCAAc,WAAU;;kDACrB,8OAAC;wCAAG,WAAU;kDAAgB,EAAE,EAAE;;;;;;kDAClC,8OAAC;wCAAG,WAAU;kDACV,cAAA,8OAAC,uKAAI;4CACD,MAAM,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE;4CACtB,WAAU;sDAET,EAAE,KAAK;;;;;;;;;;;kDAGhB,8OAAC;wCAAG,WAAU;kDAAgB,EAAE,eAAe;;;;;;kDAC/C,8OAAC;wCAAG,WAAU;kDACT,IAAI,KAAK,EAAE,UAAU,EAAE,cAAc;;;;;;;+BAZrC,EAAE,EAAE;;;;;;;;;;;;;;;;0BAqBzB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBACG,UAAU,QAAQ;wBAClB,SAAS,IAAM,QAAQ,OAAO;wBAC9B,WAAU;kCACb;;;;;;kCAGD,8OAAC;;4BACI;4BAAK;4BAAI;;;;;;;kCAEd,8OAAC;wBACG,UAAU,QAAQ;wBAClB,SAAS,IAAM,QAAQ,OAAO;wBAC9B,WAAU;kCACb;;;;;;;;;;;;;;;;;;AAMjB"}}]
}